<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kustom Krafts â€” Notion Backend</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600&family=Space+Mono&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#fff;--sb:#f7f7f5;--hover:#efefed;--border:#e9e9e7;
  --text:#37352f;--muted:#9b9a97;--muted2:#6b6b6b;
  --gold:#c9a84c;--gold-bg:rgba(201,168,76,.12);
  --green:#0f7b6c;--green-bg:rgba(15,123,108,.1);
  --blue:#0b6e99;--blue-bg:rgba(11,110,153,.1);
  --orange:#d9730d;--orange-bg:rgba(217,115,13,.1);
  --red:#e03e3e;--red-bg:rgba(224,62,62,.1);
  --purple:#6940a5;--purple-bg:rgba(105,64,165,.1);
  --sw:240px;
}
*{margin:0;padding:0;box-sizing:border-box;}
html,body{height:100%;overflow:hidden;}
body{background:var(--bg);color:var(--text);font-family:'DM Sans',sans-serif;font-size:14px;display:flex;height:100vh;}

/* SIDEBAR */
.sb{width:var(--sw);min-width:var(--sw);background:var(--sb);border-right:1px solid var(--border);display:flex;flex-direction:column;height:100vh;overflow-y:auto;padding:8px 0;}
.sb-ws{padding:6px 14px 10px;display:flex;align-items:center;gap:8px;border-bottom:1px solid var(--border);margin-bottom:6px;}
.sb-icon{width:24px;height:24px;border-radius:4px;background:var(--gold);display:flex;align-items:center;justify-content:center;font-size:.6rem;font-weight:700;color:#fff;flex-shrink:0;}
.sb-name{font-size:.82rem;font-weight:600;}
.ni{display:flex;align-items:center;gap:7px;padding:5px 14px;cursor:pointer;border-radius:4px;margin:0 4px;font-size:.8rem;color:var(--muted2);transition:background .1s;white-space:nowrap;}
.ni:hover{background:var(--hover);}
.ni.active{background:var(--hover);color:var(--text);font-weight:500;}
.ni .badge{margin-left:auto;font-size:.65rem;color:var(--muted);background:var(--border);padding:1px 6px;border-radius:10px;}
.sec{padding:12px 14px 4px;font-size:.65rem;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;}
.divider{height:1px;background:var(--border);margin:6px 8px;}

/* MAIN */
.main{flex:1;overflow-y:auto;display:flex;flex-direction:column;position:relative;}

/* TOPBAR */
.topbar{height:44px;border-bottom:1px solid var(--border);display:flex;align-items:center;padding:0 16px;gap:6px;flex-shrink:0;position:sticky;top:0;background:var(--bg);z-index:10;}
.bc{display:flex;align-items:center;gap:6px;font-size:.78rem;color:var(--muted2);}
.bc span:last-child{color:var(--text);font-weight:500;}
.bc-sep{color:var(--muted);}
.tb-actions{margin-left:auto;display:flex;gap:6px;}
.tb-btn{background:var(--hover);border:none;border-radius:4px;padding:4px 10px;font-size:.75rem;font-family:'DM Sans',sans-serif;cursor:pointer;color:var(--text);}

/* PAGE */
.page{display:none;flex-direction:column;flex:1;}
.page.active{display:flex;}
.page-header{padding:32px 60px 12px;}
.page-emoji{font-size:2.4rem;margin-bottom:8px;}
.page-title{font-size:1.7rem;font-weight:700;line-height:1.2;margin-bottom:6px;}
.page-desc{font-size:.82rem;color:var(--muted2);max-width:600px;}
.page-body{padding:0 60px 40px;flex:1;}

/* VIEW TABS */
.view-tabs{display:flex;align-items:center;gap:1px;border-bottom:1px solid var(--border);padding:0 60px;margin-bottom:0;}
.vt{padding:8px 12px;font-size:.78rem;cursor:pointer;color:var(--muted2);border-bottom:2px solid transparent;margin-bottom:-1px;}
.vt:hover{color:var(--text);}
.vt.active{color:var(--text);border-bottom-color:var(--text);font-weight:500;}

/* TOOLBAR */
.toolbar{display:flex;align-items:center;gap:6px;padding:10px 60px;border-bottom:1px solid var(--border);}
.tb-filter{background:transparent;border:none;font-size:.78rem;color:var(--muted2);cursor:pointer;padding:4px 6px;border-radius:4px;font-family:'DM Sans',sans-serif;}
.tb-filter:hover{background:var(--hover);}
.tb-new{background:var(--text);color:#fff;border:none;border-radius:4px;padding:5px 12px;font-size:.75rem;font-weight:600;cursor:pointer;margin-left:auto;font-family:'DM Sans',sans-serif;}
.tb-new:hover{opacity:.85;}

/* TABLE */
.db-wrap{overflow-x:auto;}
table.db{width:100%;border-collapse:collapse;font-size:.78rem;}
table.db th{text-align:left;padding:7px 12px;border-bottom:2px solid var(--border);color:var(--muted2);font-weight:500;white-space:nowrap;}
table.db td{padding:7px 12px;border-bottom:1px solid var(--border);vertical-align:middle;}
table.db tr:hover td{background:var(--hover);}
.row-name{display:flex;align-items:center;gap:7px;font-weight:500;cursor:pointer;}
.row-name:hover{color:var(--blue);}

/* TAGS */
.tag{display:inline-flex;align-items:center;padding:2px 8px;border-radius:4px;font-size:.68rem;font-weight:600;white-space:nowrap;}
.tag-q{background:var(--blue-bg);color:var(--blue);}
.tag-c{background:var(--purple-bg);color:var(--purple);}
.tag-p{background:var(--orange-bg);color:var(--orange);}
.tag-r{background:var(--green-bg);color:var(--green);}
.tag-d{background:#f0f0f0;color:#888;}
.tag-ok{background:var(--green-bg);color:var(--green);}
.tag-pend{background:var(--orange-bg);color:var(--orange);}
.tag-sent{background:var(--blue-bg);color:var(--blue);}
.tag-vip{background:var(--purple-bg);color:var(--purple);}
.tag-corp{background:var(--blue-bg);color:var(--blue);}
.tag-new{background:var(--green-bg);color:var(--green);}
.tag-act{background:var(--gold-bg);color:#7a5c00;}

/* PROGRESS */
.prog{display:flex;align-items:center;gap:6px;}
.prog-bar{flex:1;height:6px;background:var(--border);border-radius:3px;min-width:60px;}
.prog-fill{height:100%;border-radius:3px;}

/* KANBAN */
.kanban{display:flex;gap:12px;overflow-x:auto;padding:16px 60px;flex:1;}
.kol{min-width:200px;max-width:220px;flex-shrink:0;}
.kol-head{display:flex;align-items:center;gap:6px;font-size:.75rem;font-weight:600;color:var(--muted2);text-transform:uppercase;letter-spacing:.06em;margin-bottom:8px;padding:0 4px;}
.kol-count{font-size:.68rem;background:var(--border);border-radius:10px;padding:1px 6px;color:var(--muted);}
.kcard{background:var(--bg);border:1px solid var(--border);border-radius:8px;padding:10px 12px;margin-bottom:8px;cursor:pointer;transition:box-shadow .15s;}
.kcard:hover{box-shadow:0 2px 8px rgba(0,0,0,.08);}
.kcard-title{font-size:.8rem;font-weight:600;margin-bottom:6px;}
.kcard-client{font-size:.72rem;color:var(--muted2);margin-bottom:8px;}
.kcard-meta{display:flex;align-items:center;justify-content:space-between;}
.kcard-val{font-size:.72rem;font-weight:600;color:var(--green);}

/* PROP PANEL */
.panel{position:fixed;right:0;top:0;bottom:0;width:300px;background:var(--bg);border-left:1px solid var(--border);display:flex;flex-direction:column;transform:translateX(100%);transition:transform .2s;z-index:50;box-shadow:-4px 0 20px rgba(0,0,0,.06);}
.panel.open{transform:translateX(0);}
.panel-head{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--border);}
.panel-title{font-size:.9rem;font-weight:600;display:flex;align-items:center;gap:6px;}
.panel-close{cursor:pointer;color:var(--muted);font-size:1rem;background:none;border:none;font-family:'DM Sans',sans-serif;padding:2px 6px;border-radius:3px;}
.panel-close:hover{background:var(--hover);}
.panel-body{flex:1;overflow-y:auto;padding:12px 16px;}
.prow{display:flex;align-items:flex-start;gap:8px;padding:6px 0;border-bottom:1px solid var(--border);}
.plabel{width:100px;font-size:.72rem;color:var(--muted2);flex-shrink:0;padding-top:2px;}
.pval{font-size:.78rem;font-weight:500;flex:1;}
.pdiv{height:1px;background:var(--border);margin:10px 0;}
.act-title{font-size:.65rem;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;margin-bottom:8px;}
.act-item{display:flex;gap:8px;margin-bottom:8px;align-items:flex-start;}
.act-dot{width:8px;height:8px;border-radius:50%;background:var(--blue);flex-shrink:0;margin-top:4px;}
.act-text{font-size:.72rem;color:var(--muted2);line-height:1.4;}
.panel-btns{display:flex;gap:8px;padding:12px 16px;border-top:1px solid var(--border);}
.pbtn-main{flex:1;background:var(--text);color:#fff;border:none;border-radius:6px;padding:8px;font-size:.75rem;font-weight:600;cursor:pointer;font-family:'DM Sans',sans-serif;}
.pbtn-sec{flex:1;background:var(--hover);border:1px solid var(--border);border-radius:6px;padding:8px;font-size:.75rem;cursor:pointer;font-family:'DM Sans',sans-serif;}

/* STAT CARDS */
.stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:20px;}
.stat{background:var(--sb);border:1px solid var(--border);border-radius:10px;padding:16px;}
.stat-label{font-size:.65rem;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;margin-bottom:6px;font-weight:700;}
.stat-val{font-size:1.5rem;font-weight:800;}
.stat-sub{font-size:.72rem;color:var(--muted2);margin-top:3px;}

/* WA BUBBLE */
.wa-bubble{background:#e7ffdb;border-radius:0 10px 10px 10px;padding:12px 14px;font-size:.78rem;line-height:1.6;color:#1b5e20;border:1px solid #c8e6c9;}

/* TOAST */
#toast{position:fixed;bottom:20px;left:50%;transform:translateX(-50%) translateY(10px);background:#37352f;color:#fff;padding:8px 18px;border-radius:6px;font-size:.78rem;font-weight:500;z-index:999;opacity:0;transition:all .25s;pointer-events:none;white-space:nowrap;}

/* SEARCH INPUT */
.search-input{width:100%;padding:12px 16px;border:1.5px solid var(--border);border-radius:8px;font-size:.9rem;font-family:'DM Sans',sans-serif;background:var(--sb);color:var(--text);outline:none;margin-bottom:16px;}
.search-input:focus{border-color:var(--gold);}

/* CARD GRID */
.card-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px;}
.info-card{background:var(--sb);border:1px solid var(--border);border-radius:10px;padding:16px;}
.ic-head{font-size:.65rem;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;margin-bottom:10px;}
.ic-row{display:flex;justify-content:space-between;align-items:center;font-size:.8rem;margin-bottom:6px;}
.ic-row span:first-child{color:var(--muted2);}
.check-row{display:flex;align-items:center;gap:8px;font-size:.8rem;margin-bottom:8px;}
.check{width:16px;height:16px;border-radius:3px;border:1.5px solid var(--muted);flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:.65rem;}
.check.done{background:var(--green);border-color:var(--green);color:#fff;}

/* GANTT */
.gantt-wrap{overflow-x:auto;}
table.gantt{border-collapse:collapse;font-size:.7rem;}
table.gantt th{padding:4px 3px;border-bottom:1px solid var(--border);text-align:center;min-width:18px;color:var(--muted);}
table.gantt td{padding:2px 0;border-bottom:1px solid var(--border);}
table.gantt .job-label{padding:5px 10px;white-space:nowrap;min-width:180px;}
.gantt-cell{height:20px;}

/* INBOX ITEM */
.inbox-item{display:flex;align-items:flex-start;gap:12px;padding:12px 10px;border-radius:8px;margin-bottom:2px;}
.inbox-item:hover{background:var(--hover);}
.inbox-item.new{background:rgba(201,168,76,.06);border-left:3px solid var(--gold);}
.ii-icon{font-size:1.1rem;flex-shrink:0;margin-top:1px;}
.ii-title{font-size:.82rem;font-weight:600;margin-bottom:3px;}
.ii-sub{font-size:.75rem;color:var(--muted2);}
.ii-time{font-size:.65rem;color:var(--muted);margin-top:3px;}

/* BAR CHART */
.bar-chart{display:flex;align-items:flex-end;gap:8px;height:80px;margin-bottom:8px;}
.bar-col{flex:1;display:flex;flex-direction:column;align-items:center;gap:4px;}
.bar{width:100%;border-radius:3px 3px 0 0;}
.bar-label{font-size:.6rem;color:var(--muted);}
</style>
</head>
<body>

<!-- â•â•â• SIDEBAR â•â•â• -->
<nav class="sb">
  <div class="sb-ws">
    <div class="sb-icon">KK</div>
    <div class="sb-name">Kustom Krafts</div>
  </div>
  <div style="padding:4px 8px;">
    <div class="ni" onclick="go('home',this)"><span>ğŸ”</span>Search</div>
    <div class="ni" onclick="go('home',this)"><span>ğŸ </span>Home</div>
    <div class="ni" onclick="go('inbox',this)"><span>ğŸ“¥</span>Inbox <span class="badge">3</span></div>
  </div>
  <div class="divider"></div>
  <div class="sec">Databases</div>
  <div style="padding:0 8px;">
    <div class="ni active" onclick="go('jobs',this)"><span>âš’ï¸</span>Jobs Database <span class="badge">5</span></div>
    <div class="ni" onclick="go('clients',this)"><span>ğŸ‘¤</span>Client CRM <span class="badge">12</span></div>
    <div class="ni" onclick="go('quotes',this)"><span>ğŸ“„</span>Quotes &amp; Invoices <span class="badge">8</span></div>
    <div class="ni" onclick="go('materials',this)"><span>ğŸªµ</span>Material Costs</div>
    <div class="ni" onclick="go('revenue',this)"><span>ğŸ’°</span>Revenue Tracker</div>
  </div>
  <div class="divider"></div>
  <div class="sec">Operations</div>
  <div style="padding:0 8px;">
    <div class="ni" onclick="go('calendar',this)"><span>ğŸ“…</span>Production Calendar</div>
    <div class="ni" onclick="go('dashboard',this)"><span>ğŸ“Š</span>Monthly Dashboard</div>
    <div class="ni" onclick="go('automations',this)"><span>âš¡</span>Automations Log</div>
  </div>
  <div class="divider"></div>
  <div class="sec">Templates</div>
  <div style="padding:0 8px;">
    <div class="ni" onclick="go('template-job',this)"><span>ğŸ“‹</span>New Job Template</div>
    <div class="ni" onclick="go('template-wa',this)"><span>ğŸ’Œ</span>WhatsApp Templates</div>
  </div>
</nav>

<!-- â•â•â• MAIN â•â•â• -->
<div class="main">

<!-- â•â• PAGE: JOBS â•â• -->
<div class="page active" id="p-jobs">
  <div class="topbar">
    <div class="bc"><span>Kustom Krafts</span><span class="bc-sep">/</span><span>âš’ï¸ Jobs Database</span></div>
    <div class="tb-actions"><button class="tb-btn">Share</button><button class="tb-btn">Â·Â·Â·</button></div>
  </div>
  <div class="view-tabs">
    <div class="vt active" onclick="showView('table',this)">â˜° Table</div>
    <div class="vt" onclick="showView('board',this)">â¬œ Board</div>
    <div class="vt" onclick="showView('gallery',this)">â—» Gallery</div>
  </div>
  <div class="toolbar">
    <button class="tb-filter">ğŸ” Filter</button>
    <button class="tb-filter">â†• Sort</button>
    <button class="tb-filter">ğŸ‘ Properties</button>
    <button class="tb-new" onclick="toast('New job card created!')">+ New Job</button>
  </div>

  <!-- TABLE VIEW -->
  <div id="v-table" style="overflow-y:auto;flex:1;">
    <div class="db-wrap" style="padding:0 0 40px;">
      <table class="db" style="min-width:900px;">
        <thead>
          <tr>
            <th style="padding-left:60px;">âš’ï¸ Job</th><th>ğŸ· Status</th><th>ğŸ‘¤ Client</th><th>ğŸ’° Value</th><th>ğŸªµ Materials</th><th>ğŸ“ˆ Profit</th><th>ğŸ“… Start</th><th>ğŸ ETA</th><th>ğŸ“Š Progress</th><th>ğŸ’³ Deposit</th>
          </tr>
        </thead>
        <tbody>
          <tr onclick="openPanel('Nomsa Dube','Kitchen Fit-Out','p','R28,000','R6,200','R21,800','28 Jan','22 Mar','60')">
            <td style="padding-left:60px;"><div class="row-name"><span>ğŸ³</span>Kitchen Fit-Out (Oak)</div></td>
            <td><span class="tag tag-p">In Production</span></td><td>Nomsa Dube</td>
            <td style="font-weight:600;color:var(--green);">R28,000</td><td>R6,200</td><td style="font-weight:600;color:var(--green);">R21,800</td>
            <td>28 Jan</td><td>22 Mar</td>
            <td><div class="prog"><div class="prog-bar"><div class="prog-fill" style="width:60%;background:var(--orange);"></div></div><span style="font-size:.7rem;color:var(--muted);">60%</span></div></td>
            <td><span class="tag tag-ok">âœ“ Paid</span></td>
          </tr>
          <tr onclick="openPanel('Thabo Khumalo','Built-In Wardrobes','r','R15,500','R2,100','R13,400','13 Feb','2 Mar','100')">
            <td style="padding-left:60px;"><div class="row-name"><span>ğŸ‘”</span>Built-In Wardrobes (Ã—3)</div></td>
            <td><span class="tag tag-r">Ready âœ“</span></td><td>Thabo Khumalo</td>
            <td style="font-weight:600;color:var(--green);">R15,500</td><td>R2,100</td><td style="font-weight:600;color:var(--green);">R13,400</td>
            <td>13 Feb</td><td>2 Mar</td>
            <td><div class="prog"><div class="prog-bar"><div class="prog-fill" style="width:100%;background:var(--green);"></div></div><span style="font-size:.7rem;color:var(--muted);">100%</span></div></td>
            <td><span class="tag tag-ok">âœ“ Paid</span></td>
          </tr>
          <tr onclick="openPanel('Lerato Corp','Office Desks (Ã—5)','c','R32,000','R4,800','R27,200','10 Mar','31 Mar','10')">
            <td style="padding-left:60px;"><div class="row-name"><span>ğŸ’¼</span>Office Desks (Ã—5)</div></td>
            <td><span class="tag tag-c">Confirmed</span></td><td>Lerato Corp</td>
            <td style="font-weight:600;color:var(--green);">R32,000</td><td>R4,800</td><td style="font-weight:600;color:var(--green);">R27,200</td>
            <td>10 Mar</td><td>31 Mar</td>
            <td><div class="prog"><div class="prog-bar"><div class="prog-fill" style="width:10%;background:var(--purple);"></div></div><span style="font-size:.7rem;color:var(--muted);">10%</span></div></td>
            <td><span class="tag tag-pend">Pending</span></td>
          </tr>
          <tr onclick="openPanel('Sipho Dlamini','Couch + TV Unit','q','R12,500','R2,775','R9,725','15 Mar','28 Mar','0')">
            <td style="padding-left:60px;"><div class="row-name"><span>ğŸ›‹ï¸</span>Custom Couch + TV Unit</div></td>
            <td><span class="tag tag-q">Quoted</span></td><td>Sipho Dlamini</td>
            <td style="font-weight:600;">R12,500</td><td>R2,775</td><td style="font-weight:600;">R9,725</td>
            <td>â€”</td><td>28 Mar</td>
            <td><div class="prog"><div class="prog-bar"><div class="prog-fill" style="width:0%;background:var(--blue);"></div></div><span style="font-size:.7rem;color:var(--muted);">0%</span></div></td>
            <td><span class="tag tag-pend">Awaiting</span></td>
          </tr>
          <tr onclick="openPanel('Zanele Mokoena','Study Nook','d','R6,500','R900','R5,600','5 Feb','15 Feb','100')">
            <td style="padding-left:60px;"><div class="row-name"><span>ğŸ“š</span>Study Nook + Shelving</div></td>
            <td><span class="tag tag-d">Delivered</span></td><td>Zanele Mokoena</td>
            <td style="font-weight:600;color:var(--muted2);">R6,500</td><td>R900</td><td style="font-weight:600;color:var(--muted2);">R5,600</td>
            <td>5 Feb</td><td>15 Feb</td>
            <td><div class="prog"><div class="prog-bar"><div class="prog-fill" style="width:100%;background:#aaa;"></div></div><span style="font-size:.7rem;color:var(--muted);">100%</span></div></td>
            <td><span class="tag tag-ok">âœ“ Paid</span></td>
          </tr>
          <tr style="background:var(--sb);">
            <td colspan="2" style="padding:7px 60px;font-weight:700;font-size:.75rem;">Totals</td>
            <td></td><td style="font-weight:800;color:var(--green);">R94,500</td><td style="color:var(--orange);font-weight:600;">R16,775</td><td style="font-weight:800;color:var(--green);">R77,725</td>
            <td colspan="4"></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- BOARD VIEW -->
  <div id="v-board" style="display:none;overflow-y:auto;flex:1;">
    <div class="kanban">
      <div class="kol">
        <div class="kol-head">ğŸ”µ Quoted <span class="kol-count">1</span></div>
        <div class="kcard" onclick="openPanel('Sipho Dlamini','Couch + TV Unit','q','R12,500','R2,775','R9,725','â€”','28 Mar','0')">
          <div class="kcard-title">ğŸ›‹ï¸ Couch + TV Unit</div>
          <div class="kcard-client">Sipho Dlamini</div>
          <div class="kcard-meta"><span class="kcard-val">R12,500</span><span class="tag tag-q" style="font-size:.62rem;">Quoted</span></div>
          <div class="prog" style="margin-top:8px;"><div class="prog-bar"><div class="prog-fill" style="width:0%;background:var(--blue);"></div></div><span style="font-size:.65rem;color:var(--muted);">0%</span></div>
        </div>
      </div>
      <div class="kol">
        <div class="kol-head">ğŸŸ£ Confirmed <span class="kol-count">1</span></div>
        <div class="kcard" onclick="openPanel('Lerato Corp','Office Desks','c','R32,000','R4,800','R27,200','10 Mar','31 Mar','10')">
          <div class="kcard-title">ğŸ’¼ Office Desks (Ã—5)</div>
          <div class="kcard-client">Lerato Corp</div>
          <div class="kcard-meta"><span class="kcard-val">R32,000</span><span class="tag tag-c" style="font-size:.62rem;">Confirmed</span></div>
          <div class="prog" style="margin-top:8px;"><div class="prog-bar"><div class="prog-fill" style="width:10%;background:var(--purple);"></div></div><span style="font-size:.65rem;color:var(--muted);">10%</span></div>
        </div>
      </div>
      <div class="kol">
        <div class="kol-head">ğŸŸ  In Production <span class="kol-count">1</span></div>
        <div class="kcard" onclick="openPanel('Nomsa Dube','Kitchen Fit-Out','p','R28,000','R6,200','R21,800','28 Jan','22 Mar','60')">
          <div class="kcard-title">ğŸ³ Kitchen Fit-Out (Oak)</div>
          <div class="kcard-client">Nomsa Dube</div>
          <div class="kcard-meta"><span class="kcard-val">R28,000</span><span class="tag tag-p" style="font-size:.62rem;">In Production</span></div>
          <div class="prog" style="margin-top:8px;"><div class="prog-bar"><div class="prog-fill" style="width:60%;background:var(--orange);"></div></div><span style="font-size:.65rem;color:var(--muted);">60%</span></div>
        </div>
      </div>
      <div class="kol">
        <div class="kol-head">ğŸŸ¢ Ready <span class="kol-count">1</span></div>
        <div class="kcard" onclick="openPanel('Thabo Khumalo','Built-In Wardrobes','r','R15,500','R2,100','R13,400','13 Feb','2 Mar','100')">
          <div class="kcard-title">ğŸ‘” Built-In Wardrobes</div>
          <div class="kcard-client">Thabo Khumalo</div>
          <div class="kcard-meta"><span class="kcard-val">R15,500</span><span class="tag tag-r" style="font-size:.62rem;">Ready âœ“</span></div>
          <div class="prog" style="margin-top:8px;"><div class="prog-bar"><div class="prog-fill" style="width:100%;background:var(--green);"></div></div><span style="font-size:.65rem;color:var(--muted);">100%</span></div>
        </div>
      </div>
      <div class="kol">
        <div class="kol-head">âš« Delivered <span class="kol-count">1</span></div>
        <div class="kcard" onclick="openPanel('Zanele Mokoena','Study Nook','d','R6,500','R900','R5,600','5 Feb','15 Feb','100')">
          <div class="kcard-title">ğŸ“š Study Nook + Shelving</div>
          <div class="kcard-client">Zanele Mokoena</div>
          <div class="kcard-meta"><span class="kcard-val" style="color:var(--muted2);">R6,500</span><span class="tag tag-d" style="font-size:.62rem;">Delivered</span></div>
          <div class="prog" style="margin-top:8px;"><div class="prog-bar"><div class="prog-fill" style="width:100%;background:#aaa;"></div></div><span style="font-size:.65rem;color:var(--muted);">Done</span></div>
        </div>
      </div>
    </div>
  </div>

  <!-- GALLERY VIEW -->
  <div id="v-gallery" style="display:none;overflow-y:auto;flex:1;padding:16px 60px;">
    <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px;">
      <div class="kcard" onclick="openPanel('Nomsa Dube','Kitchen Fit-Out','p','R28,000','R6,200','R21,800','28 Jan','22 Mar','60')">
        <div style="font-size:2rem;margin-bottom:8px;">ğŸ³</div>
        <div class="kcard-title">Kitchen Fit-Out</div>
        <div class="kcard-client">Nomsa Dube Â· R28,000</div>
        <span class="tag tag-p" style="margin-top:8px;">In Production</span>
        <div class="prog" style="margin-top:8px;"><div class="prog-bar"><div class="prog-fill" style="width:60%;background:var(--orange);"></div></div><span style="font-size:.65rem;color:var(--muted);">60%</span></div>
      </div>
      <div class="kcard" onclick="openPanel('Thabo Khumalo','Built-In Wardrobes','r','R15,500','R2,100','R13,400','13 Feb','2 Mar','100')">
        <div style="font-size:2rem;margin-bottom:8px;">ğŸ‘”</div>
        <div class="kcard-title">Built-In Wardrobes</div>
        <div class="kcard-client">Thabo Khumalo Â· R15,500</div>
        <span class="tag tag-r" style="margin-top:8px;">Ready âœ“</span>
        <div class="prog" style="margin-top:8px;"><div class="prog-bar"><div class="prog-fill" style="width:100%;background:var(--green);"></div></div><span style="font-size:.65rem;color:var(--muted);">100%</span></div>
      </div>
      <div class="kcard" onclick="openPanel('Lerato Corp','Office Desks','c','R32,000','R4,800','R27,200','10 Mar','31 Mar','10')">
        <div style="font-size:2rem;margin-bottom:8px;">ğŸ’¼</div>
        <div class="kcard-title">Office Desks (Ã—5)</div>
        <div class="kcard-client">Lerato Corp Â· R32,000</div>
        <span class="tag tag-c" style="margin-top:8px;">Confirmed</span>
        <div class="prog" style="margin-top:8px;"><div class="prog-bar"><div class="prog-fill" style="width:10%;background:var(--purple);"></div></div><span style="font-size:.65rem;color:var(--muted);">10%</span></div>
      </div>
      <div class="kcard" onclick="openPanel('Sipho Dlamini','Couch + TV Unit','q','R12,500','R2,775','R9,725','â€”','28 Mar','0')">
        <div style="font-size:2rem;margin-bottom:8px;">ğŸ›‹ï¸</div>
        <div class="kcard-title">Couch + TV Unit</div>
        <div class="kcard-client">Sipho Dlamini Â· R12,500</div>
        <span class="tag tag-q" style="margin-top:8px;">Quoted</span>
        <div class="prog" style="margin-top:8px;"><div class="prog-bar"><div class="prog-fill" style="width:0%;background:var(--blue);"></div></div><span style="font-size:.65rem;color:var(--muted);">0%</span></div>
      </div>
      <div class="kcard" onclick="openPanel('Zanele Mokoena','Study Nook','d','R6,500','R900','R5,600','5 Feb','15 Feb','100')">
        <div style="font-size:2rem;margin-bottom:8px;">ğŸ“š</div>
        <div class="kcard-title">Study Nook + Shelving</div>
        <div class="kcard-client">Zanele Mokoena Â· R6,500</div>
        <span class="tag tag-d" style="margin-top:8px;">Delivered</span>
        <div class="prog" style="margin-top:8px;"><div class="prog-bar"><div class="prog-fill" style="width:100%;background:#aaa;"></div></div><span style="font-size:.65rem;color:var(--muted);">Done</span></div>
      </div>
    </div>
  </div>
</div>

<!-- â•â• PAGE: HOME â•â• -->
<div class="page" id="p-home">
  <div class="topbar">
    <div class="bc"><span>Kustom Krafts</span><span class="bc-sep">/</span><span>ğŸ  Home</span></div>
  </div>
  <div class="page-header">
    <div class="page-emoji">ğŸ </div>
    <div class="page-title">Good morning, Mandla ğŸ‘‹</div>
    <div class="page-desc">Wednesday, 5 March 2026 Â· Here's what needs your attention today.</div>
  </div>
  <div class="page-body">
    <div class="card-grid">
      <div class="info-card">
        <div class="ic-head">ğŸ”¥ Action Needed</div>
        <div class="check-row"><div class="check done">âœ“</div><span><strong>2 new bookings</strong> â€” accept or decline</span></div>
        <div class="check-row"><div class="check"></div><span>Follow up: Quote #Q-2026-0022 (Priya â€” 4 days)</span></div>
        <div class="check-row"><div class="check"></div><span>Order melamine boards â€” Lerato Corp job</span></div>
        <div class="check-row"><div class="check"></div><span>Mark Thabo's wardrobes as Delivered</span></div>
      </div>
      <div class="info-card">
        <div class="ic-head">ğŸ“Š March Snapshot</div>
        <div class="ic-row"><span>Revenue</span><strong style="color:var(--green);">R38,500</strong></div>
        <div class="ic-row"><span>Active Jobs</span><strong>5</strong></div>
        <div class="ic-row"><span>Pending Quotes</span><strong style="color:var(--orange);">R45,000</strong></div>
        <div class="ic-row"><span>Auto-WhatsApps Sent</span><strong>47</strong></div>
        <div class="ic-row"><span>5-Star Reviews</span><strong style="color:var(--gold);">5 â­</strong></div>
      </div>
      <div class="info-card" style="grid-column:1/-1;">
        <div class="ic-head">ğŸ—‚ï¸ Quick Links</div>
        <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:4px;">
          <button onclick="go('jobs',null)" style="background:var(--bg);border:1px solid var(--border);border-radius:6px;padding:6px 12px;font-size:.78rem;cursor:pointer;font-family:'DM Sans',sans-serif;">âš’ï¸ Jobs</button>
          <button onclick="go('clients',null)" style="background:var(--bg);border:1px solid var(--border);border-radius:6px;padding:6px 12px;font-size:.78rem;cursor:pointer;font-family:'DM Sans',sans-serif;">ğŸ‘¤ Clients</button>
          <button onclick="go('quotes',null)" style="background:var(--bg);border:1px solid var(--border);border-radius:6px;padding:6px 12px;font-size:.78rem;cursor:pointer;font-family:'DM Sans',sans-serif;">ğŸ“„ Quotes</button>
          <button onclick="go('calendar',null)" style="background:var(--bg);border:1px solid var(--border);border-radius:6px;padding:6px 12px;font-size:.78rem;cursor:pointer;font-family:'DM Sans',sans-serif;">ğŸ“… Calendar</button>
          <button onclick="go('dashboard',null)" style="background:var(--bg);border:1px solid var(--border);border-radius:6px;padding:6px 12px;font-size:.78rem;cursor:pointer;font-family:'DM Sans',sans-serif;">ğŸ“Š Dashboard</button>
          <button onclick="go('template-wa',null)" style="background:var(--bg);border:1px solid var(--border);border-radius:6px;padding:6px 12px;font-size:.78rem;cursor:pointer;font-family:'DM Sans',sans-serif;">ğŸ’Œ WA Templates</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- â•â• PAGE: INBOX â•â• -->
<div class="page" id="p-inbox">
  <div class="topbar">
    <div class="bc"><span>Kustom Krafts</span><span class="bc-sep">/</span><span>ğŸ“¥ Inbox</span></div>
  </div>
  <div class="page-header">
    <div class="page-emoji">ğŸ“¥</div>
    <div class="page-title">Inbox</div>
    <div class="page-desc">System notifications, automation triggers and alerts â€” all in one place.</div>
  </div>
  <div class="page-body" style="max-width:700px;">
    <div class="inbox-item new">
      <div class="ii-icon">ğŸ“…</div>
      <div>
        <div class="ii-title">New booking â€” Sipho Dlamini</div>
        <div class="ii-sub">Custom Furniture Â· Thu 5 March Â· R1,500 deposit paid. Action required: Accept or decline.</div>
        <div class="ii-time">2 minutes ago</div>
      </div>
      <span class="tag tag-new" style="flex-shrink:0;font-size:.62rem;">New</span>
    </div>
    <div class="inbox-item">
      <div class="ii-icon">âœ…</div>
      <div>
        <div class="ii-title">Quote #Q-2026-0021 approved â€” Thabo Khumalo</div>
        <div class="ii-sub">Built-In Wardrobes Â· R15,500. Job card auto-created. Deposit invoice sent.</div>
        <div class="ii-time">1 hour ago</div>
      </div>
    </div>
    <div class="inbox-item">
      <div class="ii-icon">ğŸ’³</div>
      <div>
        <div class="ii-title">Payment received â€” R14,000 from Lerato Corp</div>
        <div class="ii-sub">Final payment via PayFast. Job #KK-0039 marked as fully paid.</div>
        <div class="ii-time">Yesterday Â· 3:42 PM</div>
      </div>
    </div>
    <div class="inbox-item">
      <div class="ii-icon">â­</div>
      <div>
        <div class="ii-title">5-star review â€” Zanele Mokoena</div>
        <div class="ii-sub">"Mandla does exceptional work. The quality is unmatched. Will definitely use again!" â€” Google Review</div>
        <div class="ii-time">Yesterday Â· 10:18 AM</div>
      </div>
    </div>
    <div class="inbox-item">
      <div class="ii-icon">ğŸ“±</div>
      <div>
        <div class="ii-title">Auto-WhatsApp sent â€” Nomsa Dube</div>
        <div class="ii-sub">Production update: "Frame complete, upholstery starting Monday." Delivered successfully.</div>
        <div class="ii-time">14 Mar Â· 4:00 PM</div>
      </div>
    </div>
  </div>
</div>

<!-- â•â• PAGE: CLIENTS â•â• -->
<div class="page" id="p-clients">
  <div class="topbar">
    <div class="bc"><span>Kustom Krafts</span><span class="bc-sep">/</span><span>ğŸ‘¤ Client CRM</span></div>
  </div>
  <div class="page-header">
    <div class="page-emoji">ğŸ‘¤</div>
    <div class="page-title">Client CRM</div>
    <div class="page-desc">Every client, their history, total spend and referral status. Auto-updates when a new booking comes in.</div>
  </div>
  <div class="toolbar">
    <button class="tb-filter">ğŸ” Filter</button>
    <button class="tb-filter">â†• Sort by Total Spent</button>
    <button class="tb-new" onclick="toast('New client added!')">+ New Client</button>
  </div>
  <div style="overflow-y:auto;flex:1;">
    <div class="db-wrap" style="padding:0 0 40px;">
      <table class="db" style="min-width:780px;">
        <thead>
          <tr>
            <th style="padding-left:60px;">ğŸ‘¤ Name</th><th>ğŸ“± WhatsApp</th><th>ğŸ“¦ Jobs</th><th>ğŸ’° Total Spent</th><th>â­ Reviews</th><th>ğŸ”— Referrals</th><th>ğŸ“… Last Booking</th><th>ğŸ· Type</th>
          </tr>
        </thead>
        <tbody>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>ğŸ‘¤</span>Zanele Mokoena</div></td><td>+27 79 222 8888</td><td>3</td><td style="color:var(--green);font-weight:600;">R34,000</td><td>â­â­â­â­â­ Ã—3</td><td>2 referrals</td><td>28 Feb 2026</td><td><span class="tag tag-vip">VIP</span></td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>ğŸ¢</span>Lerato Corp</div></td><td>+27 11 333 4444</td><td>2</td><td style="color:var(--green);font-weight:600;">R58,000</td><td>â­â­â­â­â­ Ã—1</td><td>0</td><td>Mar 2026</td><td><span class="tag tag-corp">Corporate</span></td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>ğŸ‘¤</span>Nomsa Dube</div></td><td>+27 83 444 5555</td><td>2</td><td style="color:var(--green);font-weight:600;">R42,000</td><td>â­â­â­â­â­ Ã—2</td><td>1 referral</td><td>Jan 2026</td><td><span class="tag tag-vip">VIP</span></td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>ğŸ‘¤</span>Thabo Khumalo</div></td><td>+27 71 888 2233</td><td>1</td><td style="font-weight:600;">R15,500</td><td>â€”</td><td>0</td><td>Feb 2026</td><td><span class="tag tag-act">Active</span></td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>ğŸ‘¤</span>Sipho Dlamini</div></td><td>+27 82 555 0123</td><td>1</td><td style="font-weight:600;">R1,500 dep.</td><td>â€”</td><td>0</td><td>Today</td><td><span class="tag tag-new">New</span></td></tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- â•â• PAGE: QUOTES â•â• -->
<div class="page" id="p-quotes">
  <div class="topbar">
    <div class="bc"><span>Kustom Krafts</span><span class="bc-sep">/</span><span>ğŸ“„ Quotes &amp; Invoices</span></div>
  </div>
  <div class="page-header">
    <div class="page-emoji">ğŸ“„</div>
    <div class="page-title">Quotes &amp; Invoices</div>
    <div class="page-desc">Auto-generated when Mandla creates a quote. Sends to client via email. Tracks approval status.</div>
  </div>
  <div class="toolbar">
    <button class="tb-filter">ğŸ” Filter: Pending</button>
    <button class="tb-filter">â†• Sort</button>
    <button class="tb-new" onclick="toast('New quote created!')">+ Generate Quote</button>
  </div>
  <div style="overflow-y:auto;flex:1;">
    <div class="db-wrap" style="padding:0 0 40px;">
      <table class="db" style="min-width:700px;">
        <thead>
          <tr><th style="padding-left:60px;">ğŸ“„ Quote #</th><th>ğŸ›‹ï¸ Description</th><th>ğŸ‘¤ Client</th><th>ğŸ’° Amount</th><th>ğŸ· Status</th><th>ğŸ“… Sent</th><th>âœ… Approved</th></tr>
        </thead>
        <tbody>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>ğŸ“„</span>#Q-2026-0024</div></td><td>L-Shape Couch + TV Unit</td><td>Sipho Dlamini</td><td>R12,500</td><td><span class="tag tag-pend">Pending</span></td><td>Today</td><td>â€”</td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>ğŸ“„</span>#Q-2026-0023</div></td><td>Dining Room Set (6-seater)</td><td>Ayanda Mthembu</td><td>R18,000</td><td><span class="tag tag-sent">Sent</span></td><td>3 Mar</td><td>â€”</td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>ğŸ“„</span>#Q-2026-0022</div></td><td>Home Office (2 desks)</td><td>Priya Naidoo</td><td>R14,500</td><td><span class="tag tag-pend">Pending</span></td><td>1 Mar</td><td>â€”</td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>âœ…</span>#Q-2026-0021</div></td><td>Built-In Wardrobes (Ã—3)</td><td>Thabo Khumalo</td><td>R15,500</td><td><span class="tag tag-ok">Approved âœ“</span></td><td>13 Feb</td><td>14 Feb âœ“</td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>âœ…</span>#Q-2026-0020</div></td><td>Kitchen Fit-Out (Oak)</td><td>Nomsa Dube</td><td>R28,000</td><td><span class="tag tag-ok">Approved âœ“</span></td><td>27 Jan</td><td>28 Jan âœ“</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- â•â• PAGE: MATERIALS â•â• -->
<div class="page" id="p-materials">
  <div class="topbar">
    <div class="bc"><span>Kustom Krafts</span><span class="bc-sep">/</span><span>ğŸªµ Material Costs</span></div>
  </div>
  <div class="page-header">
    <div class="page-emoji">ğŸªµ</div>
    <div class="page-title">Material Cost Tracker</div>
    <div class="page-desc">Every rand spent on materials, linked to the job. Auto-calculates profit margin per job.</div>
  </div>
  <div class="toolbar">
    <button class="tb-filter">ğŸ” Filter by Job</button>
    <button class="tb-new" onclick="toast('Cost entry added!')">+ Add Cost</button>
  </div>
  <div style="overflow-y:auto;flex:1;">
    <div class="db-wrap" style="padding:0 0 40px;">
      <table class="db" style="min-width:600px;">
        <thead>
          <tr><th style="padding-left:60px;">ğŸªµ Material</th><th>ğŸ”— Job</th><th>ğŸª Supplier</th><th>ğŸ“¦ Qty</th><th>ğŸ’² Unit</th><th>ğŸ’° Total</th><th>ğŸ· Status</th></tr>
        </thead>
        <tbody>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>ğŸªµ</span>Oak Veneer Sheet</div></td><td>Kitchen Fit-Out</td><td>Timber World JHB</td><td>8 sheets</td><td>R380</td><td style="font-weight:600;">R3,040</td><td><span class="tag tag-ok">Purchased</span></td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>ğŸ”©</span>Cabinet Hinges Ã—40</div></td><td>Kitchen Fit-Out</td><td>Hardware Depot</td><td>40 units</td><td>R28</td><td style="font-weight:600;">R1,120</td><td><span class="tag tag-ok">Purchased</span></td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>ğŸ“‹</span>Melamine Board</div></td><td>Office Desks</td><td>Board &amp; More</td><td>12 sheets</td><td>R290</td><td style="font-weight:600;">R3,480</td><td><span class="tag tag-pend">Ordered</span></td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>ğŸ§µ</span>Grey Fabric (mÂ²)</div></td><td>Couch + TV Unit</td><td>Fabric House</td><td>15 mÂ²</td><td>R185</td><td style="font-weight:600;">R2,775</td><td><span class="tag tag-sent">Planned</span></td></tr>
          <tr style="background:var(--sb);"><td colspan="4" style="padding:7px 60px;font-weight:700;font-size:.75rem;">Total Material Costs</td><td></td><td style="font-size:.82rem;font-weight:700;color:var(--orange);">R10,415</td><td></td></tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- â•â• PAGE: REVENUE â•â• -->
<div class="page" id="p-revenue">
  <div class="topbar">
    <div class="bc"><span>Kustom Krafts</span><span class="bc-sep">/</span><span>ğŸ’° Revenue Tracker</span></div>
  </div>
  <div class="page-header">
    <div class="page-emoji">ğŸ’°</div>
    <div class="page-title">Revenue Tracker</div>
    <div class="page-desc">Monthly income, broken down by job. Formula auto-calculates profit after material costs.</div>
  </div>
  <div class="toolbar">
    <button class="tb-filter">ğŸ“… Filter: March 2026</button>
    <button class="tb-new" onclick="toast('Entry added!')">+ Add Entry</button>
  </div>
  <div style="overflow-y:auto;flex:1;">
    <div class="db-wrap" style="padding:0 0 40px;">
      <table class="db" style="min-width:640px;">
        <thead>
          <tr><th style="padding-left:60px;">ğŸ“… Month</th><th>ğŸ’° Gross Revenue</th><th>ğŸªµ Material Costs</th><th>ğŸ“ˆ Net Profit</th><th>ğŸ“Š Margin</th><th>âš’ï¸ Jobs</th><th>ğŸ’³ Deposits</th></tr>
        </thead>
        <tbody>
          <tr style="background:rgba(201,168,76,.04);">
            <td style="padding-left:60px;"><div class="row-name"><span>ğŸ“…</span>March 2026 (current)</div></td>
            <td style="font-weight:700;color:var(--green);">R38,500</td><td style="color:var(--orange);">R8,400</td>
            <td style="font-weight:700;color:var(--green);">R30,100</td><td style="font-weight:700;">78%</td><td>5 active</td><td>R8,500</td>
          </tr>
          <tr>
            <td style="padding-left:60px;"><div class="row-name"><span>ğŸ“…</span>February 2026</div></td>
            <td style="font-weight:700;">R30,000</td><td style="color:var(--orange);">R6,200</td>
            <td style="font-weight:700;color:var(--green);">R23,800</td><td>79%</td><td>3 delivered</td><td>R6,000</td>
          </tr>
          <tr>
            <td style="padding-left:60px;"><div class="row-name"><span>ğŸ“…</span>January 2026</div></td>
            <td style="font-weight:700;">R18,000</td><td style="color:var(--orange);">R4,100</td>
            <td style="font-weight:700;color:var(--green);">R13,900</td><td>77%</td><td>2 delivered</td><td>R3,600</td>
          </tr>
          <tr style="background:var(--sb);">
            <td style="padding:7px 60px;font-weight:700;">2026 YTD</td>
            <td style="font-weight:800;color:var(--green);font-size:.9rem;">R86,500</td>
            <td style="color:var(--orange);font-weight:700;">R18,700</td>
            <td style="font-weight:800;color:var(--green);font-size:.9rem;">R67,800</td>
            <td style="font-weight:700;">78% avg</td><td>10 jobs</td><td>R18,100</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- â•â• PAGE: CALENDAR â•â• -->
<div class="page" id="p-calendar">
  <div class="topbar">
    <div class="bc"><span>Kustom Krafts</span><span class="bc-sep">/</span><span>ğŸ“… Production Calendar</span></div>
  </div>
  <div class="page-header">
    <div class="page-emoji">ğŸ“…</div>
    <div class="page-title">Production Calendar</div>
    <div class="page-desc">Every active job plotted on a timeline. See what's running, what's overlapping, and when capacity is free.</div>
  </div>
  <div class="page-body">
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;">
      <div style="font-size:.9rem;font-weight:700;">March 2026</div>
      <div style="display:flex;gap:6px;">
        <button class="tb-filter" style="padding:4px 10px;">â† Feb</button>
        <button class="tb-filter" style="padding:4px 10px;">Apr â†’</button>
      </div>
    </div>
    <div class="gantt-wrap">
      <table class="gantt" style="min-width:700px;">
        <thead>
          <tr>
            <th style="text-align:left;padding:5px 10px;min-width:180px;">Job</th>
            <th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th>
            <th>11</th><th>12</th><th>13</th><th>14</th><th>15</th><th>16</th><th>17</th><th>18</th><th>19</th><th>20</th>
            <th>21</th><th>22</th><th>23</th><th>24</th><th>25</th><th>26</th><th>27</th><th>28</th><th>29</th><th>30</th><th>31</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="job-label"><strong>ğŸ³ Kitchen Fit-Out</strong><br><span style="font-size:.65rem;color:var(--muted);">Nomsa</span></td>
            <td colspan="21"><div style="height:20px;background:var(--orange);border-radius:3px 0 0 3px;opacity:.8;"></div></td>
            <td colspan="1"><div style="height:20px;background:var(--orange);opacity:.8;border-radius:0 3px 3px 0;"></div></td>
            <td colspan="9"></td>
          </tr>
          <tr>
            <td class="job-label"><strong>ğŸ‘” Wardrobes</strong><br><span style="font-size:.65rem;color:var(--muted);">Thabo</span></td>
            <td colspan="5"><div style="height:20px;background:var(--green);border-radius:3px;opacity:.8;"></div></td>
            <td colspan="26"></td>
          </tr>
          <tr>
            <td class="job-label"><strong>ğŸ’¼ Office Desks</strong><br><span style="font-size:.65rem;color:var(--muted);">Lerato</span></td>
            <td colspan="9"></td>
            <td colspan="22"><div style="height:20px;background:var(--purple);border-radius:3px;opacity:.8;"></div></td>
          </tr>
          <tr>
            <td class="job-label"><strong>ğŸ›‹ï¸ Couch + TV</strong><br><span style="font-size:.65rem;color:var(--muted);">Sipho</span></td>
            <td colspan="14"></td>
            <td colspan="14"><div style="height:20px;background:var(--blue);border-radius:3px;opacity:.8;"></div></td>
            <td colspan="3"></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div style="display:flex;gap:16px;margin-top:14px;flex-wrap:wrap;">
      <div style="display:flex;align-items:center;gap:6px;font-size:.72rem;color:var(--muted2);"><div style="width:12px;height:12px;border-radius:3px;background:var(--orange);"></div>In Production</div>
      <div style="display:flex;align-items:center;gap:6px;font-size:.72rem;color:var(--muted2);"><div style="width:12px;height:12px;border-radius:3px;background:var(--green);"></div>Ready</div>
      <div style="display:flex;align-items:center;gap:6px;font-size:.72rem;color:var(--muted2);"><div style="width:12px;height:12px;border-radius:3px;background:var(--purple);"></div>Confirmed</div>
      <div style="display:flex;align-items:center;gap:6px;font-size:.72rem;color:var(--muted2);"><div style="width:12px;height:12px;border-radius:3px;background:var(--blue);"></div>Quoted</div>
    </div>
  </div>
</div>

<!-- â•â• PAGE: DASHBOARD â•â• -->
<div class="page" id="p-dashboard">
  <div class="topbar">
    <div class="bc"><span>Kustom Krafts</span><span class="bc-sep">/</span><span>ğŸ“Š Monthly Dashboard</span></div>
  </div>
  <div class="page-header">
    <div class="page-emoji">ğŸ“Š</div>
    <div class="page-title">Monthly Dashboard</div>
    <div class="page-desc">All KPIs auto-calculated from your jobs, payments, and materials databases.</div>
  </div>
  <div class="page-body">
    <div class="stats-grid">
      <div class="stat"><div class="stat-label">ğŸ’° Revenue</div><div class="stat-val" style="color:var(--green);">R38,500</div><div class="stat-sub">â†‘ 28% vs February</div></div>
      <div class="stat"><div class="stat-label">ğŸ“ˆ Net Profit</div><div class="stat-val" style="color:var(--green);">R30,100</div><div class="stat-sub">78% margin Â· â†‘ from 74%</div></div>
      <div class="stat"><div class="stat-label">âš’ï¸ Active Jobs</div><div class="stat-val">5</div><div class="stat-sub">3 delivered this month</div></div>
      <div class="stat"><div class="stat-label">ğŸ“„ Quote Conversion</div><div class="stat-val">78%</div><div class="stat-sub">Industry avg: 45%</div></div>
      <div class="stat"><div class="stat-label">ğŸ“± Auto-WhatsApps</div><div class="stat-val">47</div><div class="stat-sub">â‰ˆ 3 hrs saved</div></div>
      <div class="stat"><div class="stat-label">â­ Reviews</div><div class="stat-val" style="color:var(--gold);">5.0</div><div class="stat-sub">5 reviews Â· all 5-star</div></div>
    </div>
    <div class="info-card" style="max-width:540px;">
      <div class="ic-head">ğŸ“… 2026 Revenue by Month</div>
      <div class="bar-chart">
        <div class="bar-col"><div class="bar" style="height:38px;background:var(--blue);opacity:.7;"></div><div class="bar-label">Jan</div></div>
        <div class="bar-col"><div class="bar" style="height:62px;background:var(--blue);opacity:.7;"></div><div class="bar-label">Feb</div></div>
        <div class="bar-col"><div class="bar" style="height:80px;background:var(--gold);"></div><div class="bar-label">Mar â—</div></div>
        <div class="bar-col"><div class="bar" style="height:4px;background:var(--border);"></div><div class="bar-label">Apr</div></div>
        <div class="bar-col"><div class="bar" style="height:4px;background:var(--border);"></div><div class="bar-label">May</div></div>
        <div class="bar-col"><div class="bar" style="height:4px;background:var(--border);"></div><div class="bar-label">Jun</div></div>
      </div>
      <div style="display:flex;justify-content:space-between;font-size:.72rem;color:var(--muted2);">
        <span>Jan: R18,000</span><span>Feb: R30,000</span><span style="font-weight:700;color:var(--gold);">Mar: R38,500</span>
      </div>
    </div>
  </div>
</div>

<!-- â•â• PAGE: AUTOMATIONS â•â• -->
<div class="page" id="p-automations">
  <div class="topbar">
    <div class="bc"><span>Kustom Krafts</span><span class="bc-sep">/</span><span>âš¡ Automations Log</span></div>
  </div>
  <div class="page-header">
    <div class="page-emoji">âš¡</div>
    <div class="page-title">Automations Log</div>
    <div class="page-desc">Every automatic action the system has run on your behalf â€” WhatsApps, job creation, payment confirmations, all logged here.</div>
  </div>
  <div style="overflow-y:auto;flex:1;">
    <div class="db-wrap" style="padding:0 0 40px;">
      <table class="db" style="min-width:700px;">
        <thead>
          <tr><th style="padding-left:60px;">âš¡ Trigger</th><th>ğŸ“¤ Action Taken</th><th>ğŸ‘¤ Client</th><th>âœ… Status</th><th>ğŸ“… Time</th></tr>
        </thead>
        <tbody>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>ğŸ“…</span>New booking received</div></td><td>Job card created Â· WA confirmation sent Â· Email sent</td><td>Sipho Dlamini</td><td><span class="tag tag-ok">Success</span></td><td style="font-size:.72rem;color:var(--muted);">5 Mar Â· 09:41</td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>ğŸ’³</span>Deposit cleared</div></td><td>Invoice marked paid Â· Notion updated Â· WA receipt sent</td><td>Sipho Dlamini</td><td><span class="tag tag-ok">Success</span></td><td style="font-size:.72rem;color:var(--muted);">5 Mar Â· 09:42</td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>â°</span>24-hr reminder</div></td><td>Reminder WhatsApp sent to client</td><td>Sipho Dlamini</td><td><span class="tag tag-ok">Success</span></td><td style="font-size:.72rem;color:var(--muted);">4 Mar Â· 08:00</td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>âœ…</span>Quote approved</div></td><td>Job card updated Â· Deposit invoice generated Â· WA sent</td><td>Thabo Khumalo</td><td><span class="tag tag-ok">Success</span></td><td style="font-size:.72rem;color:var(--muted);">2 Mar Â· 14:30</td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>âš’ï¸</span>Status: Production Started</div></td><td>WhatsApp sent Â· Portal updated Â· ETA calculated</td><td>Nomsa Dube</td><td><span class="tag tag-ok">Success</span></td><td style="font-size:.72rem;color:var(--muted);">28 Jan Â· 09:00</td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>ğŸ‰</span>Status: Ready for Delivery</div></td><td>Delivery WA sent Â· Review request scheduled</td><td>Thabo Khumalo</td><td><span class="tag tag-ok">Success</span></td><td style="font-size:.72rem;color:var(--muted);">28 Feb Â· 16:00</td></tr>
          <tr><td style="padding-left:60px;"><div class="row-name"><span>â­</span>Post-delivery review request</div></td><td>Review link sent Â· Google Review prompt</td><td>Zanele Mokoena</td><td><span class="tag tag-ok">Success</span></td><td style="font-size:.72rem;color:var(--muted);">3 Mar Â· 10:00</td></tr>
        </tbody>
      </table>
      <div style="padding:10px 60px;font-size:.75rem;color:var(--muted);">âš¡ 47 automations run this month Â· 0 failures Â· 3 hrs 12 min saved</div>
    </div>
  </div>
</div>

<!-- â•â• PAGE: NEW JOB TEMPLATE â•â• -->
<div class="page" id="p-template-job">
  <div class="topbar">
    <div class="bc"><span>Kustom Krafts</span><span class="bc-sep">/</span><span>ğŸ“‹ New Job Template</span></div>
  </div>
  <div class="page-header">
    <div class="page-emoji">ğŸ“‹</div>
    <div class="page-title">New Job Template</div>
    <div class="page-desc">Pre-filled when a new booking comes in. Mandla only fills in the quote amount â€” everything else auto-populates.</div>
  </div>
  <div class="page-body" style="max-width:600px;">
    <div style="background:var(--sb);border:1px solid var(--border);border-radius:12px;overflow:hidden;">
      <div style="background:#37352f;color:#fff;padding:10px 16px;font-size:.78rem;font-weight:600;">ğŸ“‹ Job Card Template Â· Auto-fills on booking</div>
      <div style="padding:16px;">
        <div class="prow"><div class="plabel">ğŸ†” Job ID</div><div class="pval" style="font-family:'Space Mono',monospace;font-size:.75rem;">#KK-2026-[AUTO]</div></div>
        <div class="prow"><div class="plabel">ğŸ· Status</div><div class="pval"><span class="tag tag-q">Quoted</span></div></div>
        <div class="prow"><div class="plabel">ğŸ‘¤ Client</div><div class="pval" style="color:var(--blue);">[Auto-linked from booking]</div></div>
        <div class="prow"><div class="plabel">ğŸ“ Description</div><div class="pval" style="color:var(--blue);">[From booking form]</div></div>
        <div class="prow"><div class="plabel">ğŸ“ Dimensions</div><div class="pval" style="color:var(--blue);">[From booking form]</div></div>
        <div class="prow"><div class="plabel">ğŸªµ Material</div><div class="pval" style="color:var(--muted);">â€” Fill during consultation</div></div>
        <div class="prow"><div class="plabel">ğŸ’° Job Value</div><div class="pval" style="color:var(--muted);">â€” Fill after quoting</div></div>
        <div class="prow"><div class="plabel">ğŸ’³ Deposit</div><div class="pval" style="color:var(--blue);">[Auto: 50% of job value]</div></div>
        <div class="prow"><div class="plabel">ğŸ“… Start Date</div><div class="pval" style="color:var(--muted);">â€” Set after approval</div></div>
        <div class="prow"><div class="plabel">ğŸ“Š Progress</div><div class="pval">0%</div></div>
        <div style="margin-top:14px;">
          <button onclick="toast('New job card created from template!')" style="background:#37352f;color:#fff;border:none;border-radius:6px;padding:9px 18px;font-size:.78rem;font-weight:600;cursor:pointer;font-family:'DM Sans',sans-serif;">+ Create New Job from Template</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- â•â• PAGE: WHATSAPP TEMPLATES â•â• -->
<div class="page" id="p-template-wa">
  <div class="topbar">
    <div class="bc"><span>Kustom Krafts</span><span class="bc-sep">/</span><span>ğŸ’Œ WhatsApp Templates</span></div>
  </div>
  <div class="page-header">
    <div class="page-emoji">ğŸ’Œ</div>
    <div class="page-title">WhatsApp Templates</div>
    <div class="page-desc">All automated messages Mandla's customers receive. Variables fill in automatically. Zero typing required.</div>
  </div>
  <div class="page-body" style="max-width:760px;display:flex;flex-direction:column;gap:12px;">

    <div style="border:1px solid var(--border);border-radius:10px;overflow:hidden;">
      <div style="background:var(--sb);padding:8px 14px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border);">
        <div style="font-size:.78rem;font-weight:600;">ğŸ“… Booking Confirmed</div>
        <span class="tag" style="background:#e8f5e9;color:#2e7d32;font-size:.62rem;">Auto-sends</span>
      </div>
      <div style="padding:12px 14px;background:#f0fff4;">
        <div class="wa-bubble">Hi [Name]! ğŸ™Œ Your consultation with Kustom Krafts Studios is confirmed for [Date] at [Time]. We've received your R[Deposit] deposit. See you then! â€” Mandla</div>
      </div>
      <div style="padding:6px 14px;display:flex;gap:8px;">
        <button onclick="toast('Template copied!')" style="background:transparent;border:none;font-size:.68rem;color:var(--blue);cursor:pointer;font-family:'DM Sans',sans-serif;">ğŸ“‹ Copy</button>
        <button onclick="toast('Editor opened')" style="background:transparent;border:none;font-size:.68rem;color:var(--muted2);cursor:pointer;font-family:'DM Sans',sans-serif;">âœï¸ Edit</button>
      </div>
    </div>

    <div style="border:1px solid var(--border);border-radius:10px;overflow:hidden;">
      <div style="background:var(--sb);padding:8px 14px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border);">
        <div style="font-size:.78rem;font-weight:600;">â° 24-Hour Reminder</div>
        <span class="tag" style="background:#e8f5e9;color:#2e7d32;font-size:.62rem;">Auto-sends</span>
      </div>
      <div style="padding:12px 14px;background:#f0fff4;">
        <div class="wa-bubble">Just a reminder â€” Mandla is expecting you tomorrow ([Date]) at [Time] for your [Service] consultation. Need to reschedule? Reply to this message.</div>
      </div>
      <div style="padding:6px 14px;display:flex;gap:8px;">
        <button onclick="toast('Template copied!')" style="background:transparent;border:none;font-size:.68rem;color:var(--blue);cursor:pointer;font-family:'DM Sans',sans-serif;">ğŸ“‹ Copy</button>
        <button onclick="toast('Editor opened')" style="background:transparent;border:none;font-size:.68rem;color:var(--muted2);cursor:pointer;font-family:'DM Sans',sans-serif;">âœï¸ Edit</button>
      </div>
    </div>

    <div style="border:1px solid var(--border);border-radius:10px;overflow:hidden;">
      <div style="background:var(--sb);padding:8px 14px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border);">
        <div style="font-size:.78rem;font-weight:600;">ğŸ“„ Quote Ready</div>
        <span class="tag" style="background:#e8f5e9;color:#2e7d32;font-size:.62rem;">Auto-sends</span>
      </div>
      <div style="padding:12px 14px;background:#f0fff4;">
        <div class="wa-bubble">Hi [Name]! Your quote for [Job Description] is ready. Total: R[Amount]. Check your email or reply YES to approve and get started! â€” Kustom Krafts</div>
      </div>
      <div style="padding:6px 14px;display:flex;gap:8px;">
        <button onclick="toast('Template copied!')" style="background:transparent;border:none;font-size:.68rem;color:var(--blue);cursor:pointer;font-family:'DM Sans',sans-serif;">ğŸ“‹ Copy</button>
        <button onclick="toast('Editor opened')" style="background:transparent;border:none;font-size:.68rem;color:var(--muted2);cursor:pointer;font-family:'DM Sans',sans-serif;">âœï¸ Edit</button>
      </div>
    </div>

    <div style="border:1px solid var(--border);border-radius:10px;overflow:hidden;">
      <div style="background:var(--sb);padding:8px 14px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border);">
        <div style="font-size:.78rem;font-weight:600;">âš’ï¸ Production Started</div>
        <span class="tag" style="background:#e8f5e9;color:#2e7d32;font-size:.62rem;">Auto-sends</span>
      </div>
      <div style="padding:12px 14px;background:#f0fff4;">
        <div class="wa-bubble">Great news [Name]! Your [Job Description] is now in production. Track your order anytime at kustomkrafts.co.za/portal ğŸ™Œ ETA: [Date].</div>
      </div>
      <div style="padding:6px 14px;display:flex;gap:8px;">
        <button onclick="toast('Template copied!')" style="background:transparent;border:none;font-size:.68rem;color:var(--blue);cursor:pointer;font-family:'DM Sans',sans-serif;">ğŸ“‹ Copy</button>
        <button onclick="toast('Editor opened')" style="background:transparent;border:none;font-size:.68rem;color:var(--muted2);cursor:pointer;font-family:'DM Sans',sans-serif;">âœï¸ Edit</button>
      </div>
    </div>

    <div style="border:1px solid var(--border);border-radius:10px;overflow:hidden;">
      <div style="background:var(--sb);padding:8px 14px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border);">
        <div style="font-size:.78rem;font-weight:600;">ğŸ‰ Ready for Delivery</div>
        <span class="tag" style="background:#e8f5e9;color:#2e7d32;font-size:.62rem;">Auto-sends</span>
      </div>
      <div style="padding:12px 14px;background:#f0fff4;">
        <div class="wa-bubble">[Name], your [Job Description] is complete and ready! ğŸ‰ Reply to schedule your delivery date. â€” Kustom Krafts Studios</div>
      </div>
      <div style="padding:6px 14px;display:flex;gap:8px;">
        <button onclick="toast('Template copied!')" style="background:transparent;border:none;font-size:.68rem;color:var(--blue);cursor:pointer;font-family:'DM Sans',sans-serif;">ğŸ“‹ Copy</button>
        <button onclick="toast('Editor opened')" style="background:transparent;border:none;font-size:.68rem;color:var(--muted2);cursor:pointer;font-family:'DM Sans',sans-serif;">âœï¸ Edit</button>
      </div>
    </div>

    <div style="border:1px solid var(--border);border-radius:10px;overflow:hidden;">
      <div style="background:var(--sb);padding:8px 14px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border);">
        <div style="font-size:.78rem;font-weight:600;">â­ Review Request</div>
        <span class="tag" style="background:#e8f5e9;color:#2e7d32;font-size:.62rem;">Auto-sends</span>
      </div>
      <div style="padding:12px 14px;background:#f0fff4;">
        <div class="wa-bubble">Hi [Name]! We hope you're loving your new [Job Description]. If you have a moment, a Google review would mean the world to us: [Review Link] ğŸ™ â€” Mandla</div>
      </div>
      <div style="padding:6px 14px;display:flex;gap:8px;">
        <button onclick="toast('Template copied!')" style="background:transparent;border:none;font-size:.68rem;color:var(--blue);cursor:pointer;font-family:'DM Sans',sans-serif;">ğŸ“‹ Copy</button>
        <button onclick="toast('Editor opened')" style="background:transparent;border:none;font-size:.68rem;color:var(--muted2);cursor:pointer;font-family:'DM Sans',sans-serif;">âœï¸ Edit</button>
      </div>
    </div>

  </div>
</div>

</div><!-- /main -->

<!-- PROPERTY PANEL -->
<div class="panel" id="panel">
  <div class="panel-head">
    <div class="panel-title"><span id="pp-emoji">ğŸ³</span> <span id="pp-name">Job</span></div>
    <button class="panel-close" onclick="closePanel()">âœ•</button>
  </div>
  <div class="panel-body">
    <div class="prow"><div class="plabel">ğŸ· Status</div><div class="pval" id="pp-status"></div></div>
    <div class="prow"><div class="plabel">ğŸ‘¤ Client</div><div class="pval" id="pp-client"></div></div>
    <div class="prow"><div class="plabel">ğŸ’° Job Value</div><div class="pval" id="pp-value"></div></div>
    <div class="prow"><div class="plabel">ğŸªµ Materials</div><div class="pval" id="pp-mat"></div></div>
    <div class="prow"><div class="plabel">ğŸ“ˆ Net Profit</div><div class="pval" id="pp-profit" style="color:var(--green);font-weight:700;"></div></div>
    <div class="prow"><div class="plabel">ğŸ“… Start</div><div class="pval" id="pp-start"></div></div>
    <div class="prow"><div class="plabel">ğŸ ETA</div><div class="pval" id="pp-eta"></div></div>
    <div class="prow">
      <div class="plabel">ğŸ“Š Progress</div>
      <div class="pval">
        <div class="prog">
          <div class="prog-bar"><div class="prog-fill" id="pp-bar" style="height:8px;"></div></div>
          <span id="pp-pct" style="font-size:.72rem;color:var(--muted);"></span>
        </div>
      </div>
    </div>
    <div class="pdiv"></div>
    <div class="act-title">Activity Log</div>
    <div class="act-item"><div class="act-dot" style="background:var(--blue);"></div><div class="act-text"><strong>WhatsApp sent</strong> â€” "Frame complete Â· production update" Â· 14 Mar 16:00</div></div>
    <div class="act-item"><div class="act-dot" style="background:var(--green);"></div><div class="act-text"><strong>Status updated</strong> to In Production Â· 10 Mar 09:00</div></div>
    <div class="act-item"><div class="act-dot" style="background:var(--gold);"></div><div class="act-text"><strong>Deposit paid</strong> â€” R2,800 via PayFast Â· 28 Jan 14:30</div></div>
    <div class="act-item"><div class="act-dot" style="background:var(--purple);"></div><div class="act-text"><strong>Job card created</strong> automatically on booking Â· 28 Jan 14:29</div></div>
  </div>
  <div class="panel-btns">
    <button class="pbtn-main" onclick="toast('WhatsApp sent!')">ğŸ’¬ Send WA Update</button>
    <button class="pbtn-sec" onclick="toast('Opening full job page...')">Open Page â†—</button>
  </div>
</div>

<div id="toast"></div>

<script>
const emojis = {q:'ğŸ›‹ï¸',c:'ğŸ’¼',p:'ğŸ³',r:'ğŸ‘”',d:'ğŸ“š'};
const statusTags = {
  q:'<span class="tag tag-q">Quoted</span>',
  c:'<span class="tag tag-c">Confirmed</span>',
  p:'<span class="tag tag-p">In Production</span>',
  r:'<span class="tag tag-r">Ready âœ“</span>',
  d:'<span class="tag tag-d">Delivered</span>'
};
const barColors = {q:'var(--blue)',c:'var(--purple)',p:'var(--orange)',r:'var(--green)',d:'#aaa'};

function go(id, el) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  const page = document.getElementById('p-' + id);
  if (page) page.classList.add('active');
  document.querySelectorAll('.ni').forEach(n => n.classList.remove('active'));
  if (el) el.classList.add('active');
  document.getElementById('panel').classList.remove('open');
}

function showView(id, el) {
  ['table','board','gallery'].forEach(v => {
    const el2 = document.getElementById('v-' + v);
    if (el2) el2.style.display = 'none';
  });
  const target = document.getElementById('v-' + id);
  if (target) target.style.display = 'block';
  document.querySelectorAll('.vt').forEach(t => t.classList.remove('active'));
  if (el) el.classList.add('active');
}

function openPanel(client, name, status, value, mat, profit, start, eta, pct) {
  document.getElementById('pp-emoji').textContent = emojis[status] || 'ğŸ“‹';
  document.getElementById('pp-name').textContent = name;
  document.getElementById('pp-status').innerHTML = statusTags[status] || status;
  document.getElementById('pp-client').textContent = client;
  document.getElementById('pp-value').textContent = value;
  document.getElementById('pp-mat').textContent = mat;
  document.getElementById('pp-profit').textContent = profit;
  document.getElementById('pp-start').textContent = start;
  document.getElementById('pp-eta').textContent = eta;
  const p = parseInt(pct);
  document.getElementById('pp-bar').style.cssText = 'width:' + p + '%;background:' + (barColors[status]||'var(--blue)') + ';height:8px;border-radius:3px;';
  document.getElementById('pp-pct').textContent = p + '%';
  document.getElementById('panel').classList.add('open');
}

function closePanel() {
  document.getElementById('panel').classList.remove('open');
}

function toast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.style.opacity = '1';
  t.style.transform = 'translateX(-50%) translateY(0)';
  setTimeout(() => {
    t.style.opacity = '0';
    t.style.transform = 'translateX(-50%) translateY(10px)';
  }, 2000);
}
</script>
</body>
</html>
